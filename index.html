<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç¤¾æœƒå±€ - ç³»çµ±å­˜å–</title>
  <style>
    body { margin: 0; background: #000; color: #0f0; font-family: 'Courier New', monospace; overflow: hidden; }
    canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.4; }
    
    .screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; width: 100%; }
    
    /* æ‰“å­—æ©Ÿæ•ˆæœæ–‡å­— */
    .typing { border-right: 2px solid #0f0; white-space: nowrap; overflow: hidden; display: inline-block; }
    
    .system-msg { font-size: 1.5rem; letter-spacing: 5px; text-shadow: 0 0 10px #0f0; margin-bottom: 20px; }
    
    /* é€²åº¦æ¢æ¨£å¼ */
    .loading-box { width: 300px; height: 4px; background: rgba(0,255,0,0.2); margin: 20px auto; position: relative; }
    .loading-bar { width: 0%; height: 100%; background: #0f0; box-shadow: 0 0 15px #0f0; transition: width 0.1s; }
    
    .btn-group { display: none; margin-top: 30px; animation: fadeIn 2s; }
    button { background: transparent; color: #0f0; border: 1px solid #0f0; padding: 15px 30px; margin: 10px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
    button:hover { background: rgba(0,255,0,0.2); box-shadow: 0 0 20px #0f0; }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>
  <canvas id="matrix"></canvas>

  <div class="screen" id="display">
    <div class="system-msg" id="status">INITIALIZING SYSTEM...</div>
    <div class="loading-box"><div class="loading-bar" id="bar"></div></div>
    <div id="sub-msg">æ­£åœ¨å•Ÿå‹•èº«åˆ†è­˜åˆ¥ç³»çµ±...</div>
  </div>

  <script>
    // 1. çŸ©é™£èƒŒæ™¯
    const canvas = document.getElementById("matrix");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    const letters = "01010101COMPUTER-IDENTIFIED-ACCESS-DENIED-WELCOME-BACK".split("");
    const fontSize = 16;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);
    function draw() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.05)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "#0f0"; ctx.font = fontSize + "px monospace";
      drops.forEach((y, i) => {
        const text = letters[Math.floor(Math.random() * letters.length)];
        ctx.fillText(text, i * fontSize, y * fontSize);
        if (y * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
      });
    }
    setInterval(draw, 50);

    // 2. ç—å­è‹±é›„é¢¨æ ¼ç™»å…¥é‚è¼¯
    const status = document.getElementById("status");
    const subMsg = document.getElementById("sub-msg");
    const bar = document.getElementById("bar");
    const display = document.getElementById("display");

    // åˆ¤æ–·æ˜¯å¦ç‚ºæ‰‹æ©Ÿç«¯
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

    let progress = 0;
    const interval = setInterval(() => {
      progress += Math.random() * 4;
      if (progress > 100) progress = 100;
      bar.style.width = progress + "%";

      // æ ¹æ“šé€²åº¦æ¢å‹•æ…‹æ›´æ–°è­˜åˆ¥æ–‡å­— (èŠ±è£¡èƒ¡å“¨çš„é—œéµ)
      if (progress > 10 && progress < 90) {
          if (isMobile) {
              subMsg.innerHTML = "æ­£åœ¨æƒæ <span style='color:#fff'>äººè‡‰</span> åŠ <span style='color:#fff'>æŒ‡ç´‹</span> è­˜åˆ¥ä¸­...";
          } else {
              subMsg.innerHTML = "æ­£åœ¨æƒæ <span style='color:#00BFFF'>è‡ªç„¶äººæ†‘è­‰</span> åŠ <span style='color:#fff'>é›»è…¦ID</span> è­˜åˆ¥ä¸­...";
          }
      } else if (progress >= 90 && progress < 100) {
          subMsg.innerText = "æ¬Šé™æ ¸å¯ä¸­ï¼Œè«‹ç¨å€™...";
      }

      if (progress === 100) {
        clearInterval(interval);
        showSuccess();
      }
    }, 100);

    function showSuccess() {
      status.style.color = "#fff";
      status.innerText = "ã€ é©— è­‰ æˆ åŠŸ ã€‘";
      subMsg.innerHTML = "<span class='typing'>é•·å®˜å¥½ï¼Œæ­¡è¿æ‚¨å›æ­¸ã€‚ç³»çµ±æ¬Šé™å·²å…¨é¢è§£é–ã€‚</span>";
      
      setTimeout(() => {
        const btns = document.createElement("div");
        btns.className = "btn-group";
        btns.style.display = "block";
        btns.innerHTML = `
          <button onclick="location.href='calc.html'">â±ï¸ é€²å…¥ä¸‹ç­è¨ˆç®—ç³»çµ±</button>
          <button onclick="location.href='leave.html'">ğŸ–ï¸ å•Ÿå‹•è«‹å‡ç¥å™¨æ¨¡çµ„</button>
        `;
        display.appendChild(btns);
      }, 1500);
    }
  </script>
</body>
</html>

